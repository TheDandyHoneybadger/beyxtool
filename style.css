:root {
    --primary-bg: #000000;
    --secondary-bg: #181818;
    --card-bg: #282828;
    --text-color: #ffffff;
    --muted-text: #aaaaaa;
    --border-color: #555555;
    --active-tab: #ffffff;
    --owned-glow: 0 0 10px rgba(0, 255, 195, 0.8), 0 0 15px rgba(0, 255, 195, 0.6);
    --tier-s-bg: #f45b69; --tier-s-text: #ffffff;
    --tier-a-bg: #fcfc81; --tier-a-text: #000000;
    --tier-b-bg: #d4fc81; --tier-b-text: #000000;
    --tier-c-bg: #81fc81; --tier-c-text: #000000;
    --tier-d-bg: #81fcfc; --tier-d-text: #000000;
}

* { box-sizing: border-box; margin: 0; padding: 0; cursor: default; }

body {
    font-family: Arial, sans-serif; background-color: var(--primary-bg); color: var(--text-color); line-height: 1.6;
    -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;
}

header { background-color: var(--secondary-bg); padding: 0.5rem 2rem; border-bottom: 2px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
.header-logo { max-height: 50px; width: auto; }
nav { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
.tab-link { padding: 10px 20px; color: var(--muted-text); text-decoration: none; font-weight: bold; border-radius: 5px; background-color: var(--card-bg); transition: background-color 0.3s, color 0.3s; border-bottom: 3px solid transparent; cursor: pointer; }
.tab-link:hover { background-color: #404040; color: var(--text-color); }
.tab-link.active { background-color: var(--primary-bg); color: var(--active-tab); border-bottom-color: var(--active-tab); }

main { padding: 2rem; }
.tab-content { display: none; background-color: var(--secondary-bg); padding: 1.5rem; border-radius: 8px; }
.tab-content.active { display: block; }
.tab-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; color: var(--text-color); border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
.tab-header.centered-header { justify-content: center; text-align: center; }
.tab-content h3 { margin-top: 1.5rem; margin-bottom: 1rem; color: var(--text-color); }

.filter-switch, .sort-group { display: flex; align-items: center; gap: 10px; color: var(--text-color); }
#collection-sort { background-color: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); border-radius: 5px; padding: 6px 8px; font-size: 0.9rem; cursor: pointer; }

.parts-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 1rem; }
.part-card {
    background-color: var(--card-bg); border-radius: 8px; padding: 0.5rem; text-align: center; cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s; border: 2px solid transparent; position: relative;
    display: flex; flex-direction: column; justify-content: space-between; min-height: 140px;
}
.part-card:hover { transform: scale(1.05); }
.part-card.owned, .product-part-item.owned { border-color: #00ffc3; box-shadow: var(--owned-glow); }
.part-card img { width: 100%; max-width: 80px; height: 80px; object-fit: contain; margin-bottom: 0.5rem; align-self: center; }
.part-card p { font-size: 0.9rem; font-weight: bold; min-height: 2.2rem; display: flex; align-items: center; justify-content: center; word-break: break-word; padding: 0 2px; margin-top: auto; }
.part-tier { position: absolute; top: 5px; right: 5px; font-size: 0.85rem; font-weight: bold; padding: 2px 6px; border-radius: 5px; line-height: 1; text-shadow: 1px 1px 1px rgba(0,0,0,0.4); }
.part-tier.tier-s { background-color: var(--tier-s-bg); color: var(--tier-s-text); }
.part-tier.tier-a { background-color: var(--tier-a-bg); color: var(--tier-a-text); }
.part-tier.tier-b { background-color: var(--tier-b-bg); color: var(--tier-b-text); }
.part-tier.tier-c { background-color: var(--tier-c-bg); color: var(--tier-c-text); }
.part-tier.tier-d { background-color: var(--tier-d-bg); color: var(--tier-d-text); }
.part-info-icon { position: absolute; bottom: 5px; left: 5px; width: 20px; height: 20px; background-color: rgba(255, 255, 255, 0.7); color: #000; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 0.9rem; font-weight: bold; cursor: pointer; z-index: 3; transition: background-color 0.2s; }
.part-info-icon:hover { background-color: rgba(255, 255, 255, 1); }

.deck-management { background-color: var(--primary-bg); padding: 1rem; border-radius: 8px; margin-bottom: 2rem; display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 1rem; }
.deck-selector-group, .deck-name-group, .deck-buttons-group { display: flex; align-items: center; gap: 0.5rem; }
.deck-buttons-group { gap: 0.5rem; }
.deck-buttons-group button { width: 40px; height: 40px; font-size: 1.5rem; line-height: 1; padding: 0; }
#deck-selector, #deck-name-input { background-color: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); border-radius: 5px; padding: 8px; font-size: 1rem; }
#deck-name-input { min-width: 200px; }

/* Adicionado summary aos cursores pointer */
button, .tab-link, .part-card, .part-placeholder, .variant-card, .close-button, .lang-button, #collection-filter, #collection-sort, #deck-selector, input[type="checkbox"], .score-btn, #reset-score-button, .meta-link-container a, .part-info-icon, .youtube-thumbnail-link, summary, .btn-side { cursor: pointer; }
#deck-name-input, #input-modal-field, input[type="text"] { cursor: text; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; } /* Removido .player-name */

.deck-builder-container, .settings-container { display: flex; flex-direction: column; align-items: center; gap: 2rem; }
.deck-area { display: flex; justify-content: center; flex-wrap: wrap; gap: 1.5rem; }
.deck-slot { background-color: var(--card-bg); border-radius: 8px; padding: 1rem; width: 260px; display: flex; flex-direction: column; align-items: center; gap: 0.25rem; }
.part-container { display: flex; flex-direction: column; align-items: center; gap: 0.25rem; width: 100%; margin-bottom: 0.5rem; position: relative; min-height: 90px; }
.part-visuals { min-height: 65px; display: flex; justify-content: center; align-items: center; width: fit-content; margin: 0 auto; }
.part-placeholder { width: 65px; height: 65px; background-color: var(--primary-bg); border: 2px dashed var(--border-color); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: background-color 0.3s; position: relative; overflow: hidden; flex-shrink: 0; }
.part-placeholder:hover { background-color: #333; }
.part-placeholder img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; }
.part-placeholder span { font-weight: bold; color: var(--muted-text); font-size: 0.8rem; text-align: center; padding: 0 5px; }
.part-name-display { font-size: 0.9rem; color: var(--muted-text); font-weight: bold; min-height: 1.2rem; word-break: break-all; text-align: center; width: 100%; margin-top: 0.25rem; }
.deck-slot .chip-specific-placeholder { display: none; }
.deck-slot[data-bay-type="chip"] .chip-specific-placeholder { display: flex; }
.deck-slot[data-bay-type="empty"] .standard-or-chip-placeholder { display: none; }
.deck-slot[data-bay-type="standard"] .standard-or-chip-placeholder, .deck-slot[data-bay-type="chip"] .standard-or-chip-placeholder { display: flex; }
.part-type-icon-placeholder { position: absolute; left: 25px; top: 32px; transform: translateY(-50%); width: 25px; height: 25px; display: flex; align-items: center; justify-content: center; z-index: 1; }
.part-type-icon-placeholder img { width: 100%; height: 100%; object-fit: contain; }

.deck-info, .data-buttons { text-align: center; display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; }

.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0, 0, 0, 0.7); padding-top: 60px; }
.modal-content { background-color: var(--secondary-bg); margin: 5% auto; padding: 20px; border: 1px solid var(--border-color); border-radius: 8px; width: 90%; max-width: 800px; position: relative; max-height: 85vh; display: flex; flex-direction: column; }
.close-button { color: #aaa; position: absolute; top: 10px; right: 20px; font-size: 28px; font-weight: bold; cursor: pointer; }
.close-button:hover, .close-button:focus { color: var(--text-color); text-decoration: none; }
#modal-title { margin-bottom: 15px; padding-right: 30px; }
.modal-scrollable-content { overflow-y: auto; flex-grow: 1; padding-right: 10px; }
#modal-parts-list-container { margin-bottom: 1.5rem; }
#modal-parts-list-container h4 { color: var(--text-color); border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1rem; }
#variant-modal-checkboxes { margin-top: 0; }
#variant-modal-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 1rem; margin-top: 1rem; max-height: 50vh; overflow-y: auto; padding: 5px; background-color: var(--primary-bg); border-radius: 5px; }
.variant-card { background-color: var(--card-bg); border-radius: 8px; padding: 0.5rem; text-align: center; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s; border: 2px solid transparent; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.variant-card:hover { transform: scale(1.05); }
.variant-card.selected { border-color: #00ffc3; box-shadow: var(--owned-glow); }
.variant-card img { width: 100%; max-width: 60px; height: 60px; object-fit: contain; margin-bottom: 0.5rem; }
.variant-card p { font-size: 0.85rem; font-weight: bold; min-height: 1.5rem; display: flex; align-items: center; justify-content: center; color: var(--text-color); word-break: break-word; }
.modal-buttons { margin-top: 1.5rem; text-align: right; padding-top: 1rem; border-top: 1px solid var(--border-color); }

.meta-cta { text-align: center; margin-bottom: 2rem; color: var(--text-color); }
.meta-link-container { text-align: center; padding: 2rem 0; display: flex; flex-direction: column; align-items: center; gap: 1.5rem; }
.meta-link-container a { color: var(--active-tab); text-decoration: underline; font-size: 1.2rem; font-weight: bold; }
.meta-link-container a:hover { color: var(--text-color); }
.youtube-thumbnail-link { display: inline-block; border: 2px solid var(--border-color); border-radius: 8px; overflow: hidden; transition: border-color 0.3s; max-width: 320px; }
.youtube-thumbnail-link:hover { border-color: var(--active-tab); }
.youtube-thumbnail { display: block; width: 100%; height: auto; }

.language-settings { margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color); width: 100%; display: flex; flex-direction: column; align-items: center; gap: 1rem; }
.language-settings h3 { margin-bottom: 0; color: var(--text-color); }
.language-selector { display: flex; gap: 1rem; }
.lang-button { background-color: transparent; border: 2px solid var(--border-color); padding: 5px; cursor: pointer; border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; transition: border-color 0.3s, box-shadow 0.3s; overflow: hidden; font-size: 24px; line-height: 1; }
.lang-button img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block; }
.lang-button:hover { border-color: var(--text-color); }
.lang-button.active { border-color: #00ffc3; box-shadow: var(--owned-glow); }

.part-info-popup { display: none; }
.part-type-symbol { position: absolute; top: 5px; left: 5px; width: 20px; height: 20px; background-color: transparent; border-radius: 3px; display: flex; justify-content: center; align-items: center; padding: 2px; z-index: 2; pointer-events: none; }
.part-type-symbol img { width: 100%; height: 100%; object-fit: contain; }

.input-modal-body { margin-top: 1rem; }
#input-modal-field { width: 100%; padding: 10px; background-color: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); border-radius: 5px; margin-bottom: 1.5rem; font-size: 1rem; }
#confirm-modal-text { margin-bottom: 1.5rem; }

/* --- [NOVO] Estilos Aba Welcome --- */
.welcome-container {
    max-width: 800px;
    margin: 0 auto;
    font-size: 1.1rem;
    line-height: 1.7;
}
.welcome-container section {
    margin-bottom: 2.5rem;
}
.welcome-container h3 {
    color: var(--active-tab);
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    font-size: 1.5rem;
}
.welcome-container p {
    color: var(--muted-text);
    margin-bottom: 1rem;
}
.welcome-container ul {
    list-style: none;
    padding-left: 0;
}
.welcome-container li {
    color: var(--muted-text);
    margin-bottom: 0.8rem;
    padding-left: 1rem;
    position: relative;
}
.welcome-container li::before { /* Adiciona um marcador customizado */
    content: '›';
    position: absolute;
    left: 0;
    color: #00ffc3; /* Cor de destaque */
    font-weight: bold;
}
.welcome-container li strong {
    color: var(--text-color); /* Destaca o nome da aba */
}
.welcome-container .contact-email {
    text-align: center;
    margin-top: 1.5rem;
}
.welcome-container .contact-email a {
    color: #3498db; /* Cor de link azul */
    font-weight: bold;
    font-size: 1.2rem;
    text-decoration: none;
    cursor: pointer;
}
.welcome-container .contact-email a:hover {
    text-decoration: underline;
}
/* --- [FIM] Estilos Aba Welcome --- */


/* --- Estilos da Aba Guia --- */
.guide-description { color: var(--muted-text); text-align: center; margin-bottom: 2rem; font-size: 1rem; line-height: 1.5; }
/* Container principal dos spoilers */
#guide-products-container {
    display: block;
    padding: 0;
}
.product-card { background-color: var(--primary-bg); border-radius: 8px; border: 1px solid var(--border-color); overflow: hidden; display: flex; flex-direction: row; align-items: stretch; min-height: 160px; }
.product-card-header { flex: 1; min-width: 200px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.75rem; padding: 1rem; background-color: var(--card-bg); border-right: 1px solid var(--border-color); }
.product-image { width: 100%; max-width: 150px; height: auto; border-radius: 6px; }
.product-name { font-size: 1.1rem; font-weight: bold; color: var(--active-tab); text-align: center; }
.product-parts { flex: 2; display: flex; flex-direction: row; flex-wrap: wrap; gap: 1rem; padding: 1.5rem; align-items: flex-start; justify-content: center; }
.product-part-item { background-color: var(--card-bg); border-radius: 8px; padding: 0.5rem; text-align: center; border: 2px solid var(--border-color); position: relative; display: flex; flex-direction: column; justify-content: space-between; width: 110px; min-height: 140px; cursor: default; }
.product-part-item img { width: 100%; max-width: 80px; height: 80px; object-fit: contain; margin-bottom: 0.5rem; align-self: center; }
.product-part-item p { font-size: 0.9rem; font-weight: bold; min-height: 2.2rem; display: flex; align-items: center; justify-content: center; word-break: break-word; padding: 0 2px; margin-top: auto; color: var(--text-color); }


.bay-info-container { width: 100%; margin-top: 1rem; display: block !important; }
.bay-height-display { font-size: 0.9rem; font-weight: bold; color: var(--muted-text); text-align: center; margin-bottom: 0.5rem; min-height: 1.1rem; }
.chart-container { width: 100%; max-width: 240px; height: auto; aspect-ratio: 1 / 1; margin: 0 auto; }

#part-info-modal .modal-content { max-width: 400px; }
#info-modal-part-name { text-align: center; margin-bottom: 1rem; }
#info-modal-details h4 { margin-top: 1rem; margin-bottom: 0.5rem; color: var(--muted-text); border-bottom: 1px solid var(--border-color); padding-bottom: 0.3rem; }
#info-modal-source-list { list-style: disc; padding-left: 25px; margin-bottom: 1rem; color: var(--text-color); }
#info-modal-source-list li { margin-bottom: 0.3rem; font-size: 0.9rem;}
.info-chart-container { max-width: 300px; margin-top: 1rem; margin-left: auto; margin-right: auto;}

/* --- [ATUALIZADO] Estilos Placar (Sem Nomes, Placar Maior) --- */

.score-controls-top {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap; /* Para telas menores */
}
/* REMOVIDO .player-name */

/* Ajustes no container principal */
.score-container {
    gap: 1rem; /* Espaçamento entre jogadores e VS */
    align-items: stretch; /* Alinha altura dos cards */
    transition: all 0.3s ease-in-out; /* Suaviza a troca de layout */
}

/* Layout Vertical (Padrão) */
.score-container.vertical-score {
    display: flex;
    justify-content: space-around;
    align-items: stretch; /* Garante altura igual se possível */
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
    gap: 2rem;
}
.score-container.vertical-score .player-section {
    flex: 1;
    min-width: 300px;
    max-width: 450px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem; /* Reduzido o gap */
    background-color: var(--primary-bg);
    padding: 1rem; /* Reduzido o padding vertical */
    border-radius: 8px;
}
.score-container.vertical-score .versus-divider {
    font-size: 3rem;
    font-weight: bold;
    color: var(--muted-text);
    align-self: center;
    padding: 0 1rem;
    display: block;
}
.score-container.vertical-score .score-display {
    font-size: 8rem; /* Aumentado */
    font-weight: bold;
    color: var(--active-tab);
    line-height: 1;
    margin-bottom: 0.5rem; /* Adicionado espaço abaixo */
}


/* Layout Horizontal */
.score-container.horizontal-score {
    display: flex;
    flex-direction: column; /* Empilha os jogadores */
    align-items: center; /* Centraliza horizontalmente */
    gap: 1rem; /* Espaço entre jogadores */
}
.score-container.horizontal-score .player-section {
    width: 90%; /* Ocupa quase toda a largura */
    max-width: 600px; /* Limite máximo */
    min-width: unset; /* Remove mínimo */
    display: flex; /* Muda para flex row interno */
    flex-direction: row; /* Placar | Botões */
    align-items: center;
    justify-content: space-between; /* Afasta placar dos botões */
    gap: 1.5rem; /* Aumenta o gap horizontal */
    padding: 1rem;
    background-color: var(--primary-bg);
    border-radius: 8px;
}
/* REMOVIDO .score-container.horizontal-score .player-name */
.score-container.horizontal-score .score-display {
    font-size: 5rem; /* Aumentado um pouco */
    margin: 0; /* Removido margin extra */
    min-width: 80px; /* Garante espaço */
    text-align: center;
    flex-shrink: 0; /* Evita que o placar encolha */
    font-weight: bold;
    color: var(--active-tab);
    line-height: 1;
}
.score-container.horizontal-score .score-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
    width: auto;
    flex-grow: 1; /* Permite que os botões ocupem o espaço restante */
    max-width: 350px; /* Ajuste conforme necessário */
    margin-top: 0;
}
.score-container.horizontal-score .versus-divider {
    display: none;
}


/* Estilos dos Novos Botões Divididos */
.score-buttons { /* Estilos gerais que se aplicam a ambos layouts */
    display: flex;
    flex-direction: column;
    gap: 0.75rem; /* Espaço entre os botões */
    width: 90%; /* Aumenta a largura dos botões no vertical */
    margin-top: 1rem; /* Mantém espaço no vertical */
}
/* Ajuste para largura dos botões no vertical para 100% */
.score-container.vertical-score .score-buttons {
    width: 100%;
    max-width: 350px; /* Limita largura máxima no vertical também */
}

.split-score-btn {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 1rem;
    font-weight: bold;
    color: var(--text-color);
    min-height: 50px;
    overflow: hidden;
    padding: 0;
    transition: box-shadow 0.2s;
}
.split-score-btn:hover {
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
}

.btn-side {
    padding: 0.8rem 1rem;
    font-size: 1.5rem;
    line-height: 1;
    cursor: pointer;
    text-align: center;
    background-color: rgba(0, 0, 0, 0.2);
    transition: background-color 0.2s, color 0.2s;
    min-width: 50px;
    user-select: none;
}
.btn-side:hover {
    background-color: rgba(255, 255, 255, 0.2);
    color: var(--active-tab);
}
.btn-side:active {
    background-color: rgba(0, 255, 195, 0.3);
    transform: scale(0.95);
}
.btn-decrease {
    border-right: 1px solid var(--border-color);
}
.btn-increase {
    border-left: 1px solid var(--border-color);
}

.btn-label {
    flex-grow: 1;
    text-align: center;
    padding: 0.5rem 0.5rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.9rem;
}
/* --- [FIM] Estilos Placar Atualizado --- */


/* --- [NOVO] Estilos Aba Trades --- */

#trades-tab .trades-instructions {
    color: var(--muted-text);
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
}

#trades-tab .trades-controls {
    display: flex;
    justify-content: center;
    gap: 1rem; /* Adicionado gap */
    margin-bottom: 2rem;
    flex-wrap: wrap; /* Adicionado wrap */
}

#trades-tab .part-type-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1rem;
    background-color: var(--primary-bg);
    overflow: hidden;
}

#trades-tab .part-type-spoiler summary {
    background-color: var(--card-bg);
    padding: 0.7rem 1.2rem;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    list-style: none;
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none;
    color: var(--text-color);
}
#trades-tab .part-type-spoiler summary::-webkit-details-marker { display: none; }
#trades-tab .part-type-spoiler summary::marker { display: none; }
#trades-tab summary { list-style: none; display: block; }

#trades-tab .part-type-spoiler summary::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.3rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text);
}
#trades-tab .part-type-spoiler[open] > summary::before { content: '−'; color: var(--text-color); }

#trades-tab .parts-grid {
    padding: 1.5rem;
    /* Herda estilos de .parts-grid (display: grid, gap, etc.) */
}

/* Estilos específicos para cards na aba Trades */
#trades-tab .part-card {
    border: 2px solid var(--card-bg); /* Borda padrão sutil */
    transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s; /* Adiciona transição de borda */
}

#trades-tab .part-card:hover {
    transform: scale(1.05);
    /* Mantém sombra padrão do hover, se houver */
}

#trades-tab .part-card.wanting {
    border-color: #3498db; /* Azul para 'wanting' */
    box-shadow: 0 0 8px rgba(52, 152, 219, 0.7);
}

#trades-tab .part-card.trading {
    border-color: #e74c3c; /* Vermelho para 'trading' */
    box-shadow: 0 0 8px rgba(231, 76, 60, 0.7);
}

/* Remove ícone de info e tier da aba de trocas */
#trades-tab .part-card .part-info-icon,
#trades-tab .part-card .part-tier {
    display: none;
}

/* --- [FIM] Estilos Aba Trades --- */

/* --- [NOVO] Estilos para Display de Listas Trades --- */

.trade-display-container {
    display: flex;
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
    justify-content: space-around; /* Espaça as duas listas */
    gap: 1.5rem;
    margin-bottom: 2rem;
    background-color: var(--primary-bg); /* Fundo similar aos spoilers */
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.trade-list-display {
    flex: 1; /* Tenta dividir o espaço igualmente */
    min-width: 250px; /* Largura mínima para cada lista */
    background-color: var(--secondary-bg); /* Fundo interno */
    padding: 1rem;
    border-radius: 5px;
    display: flex; /* Adicionado para controle interno */
    flex-direction: column; /* Empilha título e grid */
}

.trade-list-display h4 {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    text-align: center;
    font-size: 1.1rem;
    /* Cores adicionadas abaixo */
}

/* [NOVO] Cores para os Títulos */
#trades-want-display h4 {
    color: #3498db; /* Azul */
}
#trades-have-display h4 {
    color: #e74c3c; /* Vermelho */
}

/* [MODIFICADO] Grid para os cards dentro da lista */
.trade-list-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Grid responsivo para cards menores */
    gap: 0.5rem; /* Espaço menor entre cards */
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 250px; /* Aumenta um pouco a altura máxima */
    overflow-y: auto;
    padding-right: 8px; /* Espaço para scrollbar */
    flex-grow: 1; /* Ocupa espaço restante */
}

 /* Estilo scrollbar (opcional, para Webkit/Blink) */
.trade-list-grid::-webkit-scrollbar {
  width: 8px;
}
.trade-list-grid::-webkit-scrollbar-track {
  background: var(--primary-bg);
  border-radius: 4px;
}
.trade-list-grid::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
  border: 2px solid var(--primary-bg);
}

/* [REMOVIDO] .trade-list-display h5 e li (agora usamos cards) */

/* [NOVO] Estilo para os cards dentro da lista */
.trade-list-card {
    background-color: var(--card-bg);
    border-radius: 5px;
    padding: 0.3rem;
    text-align: center;
    border: 2px solid transparent; /* Borda base */
    min-height: 100px; /* Altura mínima menor */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    cursor: default; /* Remove cursor pointer daqui */
}
.trade-list-card img {
    width: 100%;
    max-width: 50px; /* Imagem menor */
    height: 50px;
    object-fit: contain;
    margin-bottom: 0.2rem;
}
.trade-list-card p {
    font-size: 0.75rem; /* Fonte menor */
    font-weight: bold;
    min-height: 1.6rem; /* Altura mínima menor */
    display: flex;
    align-items: center;
    justify-content: center;
    word-break: break-word;
    padding: 0 1px;
    margin-top: auto;
    color: var(--text-color);
}
/* Aplica cores de borda também aos cards na lista */
.trade-list-card.wanting {
    border-color: #3498db;
}
.trade-list-card.trading {
    border-color: #e74c3c;
}
 /* Esconde tier/info/tipo nos cards da lista */
.trade-list-card .part-tier,
.trade-list-card .part-info-icon,
.trade-list-card .part-type-symbol {
    display: none;
}


/* Mensagem de lista vazia */
.trade-list-display .empty-list-message {
    color: var(--muted-text);
    font-style: italic;
    text-align: center;
    margin-top: 1rem;
    flex-grow: 1; /* Ocupa espaço se o grid estiver vazio */
    display: flex; /* Centraliza verticalmente */
    align-items: center;
    justify-content: center;
}

/* Ajustes responsivos para o display */
@media (max-width: 600px) {
    .trade-display-container {
        flex-direction: column; /* Empilha as listas */
    }
    .trade-list-display {
        min-width: 100%; /* Ocupa largura total */
    }
    .trade-list-grid {
         grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Cards ainda menores */
    }
    .trade-list-card img { max-width: 40px; height: 40px; }
    .trade-list-card p { font-size: 0.7rem; min-height: 1.4rem; }
}

/* --- [FIM] Estilos para Display de Listas Trades --- */

/* --- [NOVO] Estilos para Captura de Imagem Trades --- */
    
/* Esta classe será aplicada temporariamente ao clone durante a captura */
.trade-capture-clone {
    position: absolute;
    left: -9999px; /* Posiciona fora da tela */
    top: 0;
    width: 600px; /* Largura da imagem (pode ajustar para 900px, etc.) */
    background-color: var(--secondary-bg); /* Fundo da div container (combinando com o tema) */
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* [MODIFICADO] Espaço reduzido */
}

/* [MODIFICADO] Estilo para o cabeçalho da imagem (Vertical) */
.trade-capture-header {
    display: flex;
    flex-direction: column;   /* MUDA PARA COLUNA (Logo em cima, URL embaixo) */
    align-items: center;     /* Centraliza horizontalmente */
    gap: 5px;                /* Espaço pequeno entre logo e URL */
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.trade-capture-logo {
    width: 167px;  /* Seu tamanho correto */
    height: 40px; /* Seu tamanho correto */
    object-fit: contain;
    /* flex-shrink: 0; (Não é mais necessário no layout em coluna) */
}
.trade-capture-url {
    font-size: 0.8rem; /* Tamanho pequeno para a URL */
    color: var(--muted-text) !important;
    font-weight: bold;
    margin: 0; /* Remove margens padrão */
}
/* [FIM MODIFICAÇÃO Cabeçalho] */


.trade-capture-clone .trade-list-display {
    min-width: 100%; 
    max-height: none;
    background-color: var(--secondary-bg);
}

/* [NOVO] Reduz o espaçamento interno do título no clone */
.trade-capture-clone .trade-list-display h4 {
    margin-bottom: 0.5rem; /* REDUZ A MARGEM INTERNA */
}

.trade-capture-clone .trade-list-grid {
    max-height: none;
    overflow-y: visible;
}

.trade-capture-clone #trades-want-display h4 {
    color: #3498db !important;
}
.trade-capture-clone #trades-have-display h4 {
    color: #e74c3c !important;
}
.trade-capture-clone,
.trade-capture-clone h4,
.trade-capture-clone p,
.trade-capture-clone .empty-list-message {
    color: var(--text-color) !important;
}


/* --- [FIM] Estilos para Captura de Imagem Trades --- */


/* --- Media Queries (Incluindo ajustes para Guia/Spoilers E Placar) --- */

@media (max-width: 900px) {
    /* Guia */
    .brand-products-grid { /* Ajusta o grid dentro do spoiler */
         flex-direction: column;
         align-items: center;
     }
     .brand-products-grid .product-card { /* Cards dentro do grid */
         width: 95%; /* Ocupa mais largura */
         max-width: 500px;
         flex-direction: column; /* Garante empilhamento interno se já não estiver */
     }
     .brand-products-grid .product-card-header { /* Adapta o header do card */
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        width: 100%;
        min-width: unset;
     }
     .brand-products-grid .product-parts { /* Adapta grid de peças */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: 0.8rem;
        padding: 1rem;
        width: 100%;
        justify-items: center;
     }
}

@media (max-width: 768px) {
    main { padding: 1rem; }
    header { flex-direction: column; gap: 0.8rem; padding: 0.8rem; }
    nav { width: 100%; justify-content: center; gap: 5px; }
    .tab-link { padding: 8px 10px; font-size: 0.85rem; flex-grow: 1; text-align: center; }
    .tab-header { flex-direction: column; align-items: center; gap: 0.8rem; }

    .deck-management { flex-direction: column; align-items: stretch; }
    .deck-selector-group, .deck-name-group, .deck-buttons-group { justify-content: center; width: 100%; }
    #deck-name-input { min-width: 0; flex-grow: 1; }

    /* [REMOVIDO] Deck slots empilhados em tablets */
    /* .deck-area { flex-direction: column; ... } */
    /* .deck-slot { width: 90%; ... } */

    .modal-content { width: 95%; margin: 5% auto; max-height: 90vh; padding: 15px; }
    #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 0.6rem; }
    .variant-card img, .part-card img { max-width: 45px; height: 45px; }
    .variant-card p, .part-card p { font-size: 0.75rem; min-height: 1.6rem; }
    .part-card { min-height: 120px; }

    .part-type-symbol, .part-type-icon-placeholder { width: 18px; height: 18px; left: 20px; top: 28px;}
    .part-info-icon { width: 18px; height: 18px; font-size: 0.8rem; left: 3px; bottom: 3px; }
    .part-tier { font-size: 0.7rem; padding: 1px 3px; top: 3px; right: 3px; }

    /* Placar Responsivo Tablet */
    .score-container.vertical-score {
        gap: 1rem;
    }
    .score-container.vertical-score .player-section {
        min-width: 280px;
        max-width: 400px;
    }
    .score-container.vertical-score .score-display {
        font-size: 7rem;
    }
    .score-container.vertical-score .versus-divider {
        transform: rotate(90deg);
        margin: 0.5rem 0;
    }

    .score-container.horizontal-score .player-section {
        flex-direction: column;
        width: 95%;
        gap: 0.5rem;
    }
    .score-container.horizontal-score .score-display {
        font-size: 6rem;
        margin: 0.5rem 0;
    }
    .score-container.horizontal-score .score-buttons {
        grid-template-columns: 1fr;
        width: 90%;
        max-width: 300px;
    }
    .btn-label {
        font-size: 0.8rem;
    }
    /* Fim Placar Responsivo Tablet */


    /* Guia: Partes dentro do card */
    .product-part-item { width: 90px; min-height: 120px;}
    .product-part-item img { max-width: 50px; height: 50px; }
    .product-part-item p { font-size: 0.8rem; min-height: 1.8rem; }

    .chart-container { max-width: 220px; }
    .bay-info-container { margin-top: 0.5rem;}
    .bay-height-display { font-size: 0.8rem; }

    /* Trades: Spoiler Title */
    #trades-tab .part-type-spoiler summary { font-size: 1rem; }
    #trades-tab .part-type-spoiler summary::before { font-size: 1.2rem; }
}

@media (max-width: 480px) {
     main { padding: 0.5rem; }
     .tab-link { padding: 6px 8px; font-size: 0.75rem; gap: 3px; }
     .tab-content { padding: 1rem 0.5rem; }
     /* [REMOVIDO] Deck slots */
     /* .deck-slot { width: 95%; max-width: none; } */
     .part-placeholder { width: 50px; height: 50px; }
     .part-placeholder span { font-size: 0.65rem; }
     .part-name-display { font-size: 0.7rem; }

     #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 0.5rem; }
     .variant-card img, .part-card img { max-width: 35px; height: 35px; }
     .variant-card p, .part-card p { font-size: 0.7rem; min-height: 1.4rem; }
     .part-card { min-height: 110px; padding: 0.4rem; }

     .part-type-symbol, .part-type-icon-placeholder { width: 16px; height: 16px; left: 18px; top: 25px;}
     .part-info-icon { width: 16px; height: 16px; font-size: 0.7rem; }
     .part-tier { font-size: 0.65rem; }

     /* Placar Responsivo Mobile */
     .score-controls-top {
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    .score-controls-top button {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        flex-grow: 1;
    }
    .score-container.vertical-score .player-section {
        min-width: 95%;
    }
    .score-container.vertical-score .score-display {
        font-size: 6rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-display {
        font-size: 5rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-buttons {
        width: 100%; /* Botões ocupam largura total */
        grid-template-columns: 1fr; /* Garante uma coluna */
    }
    .split-score-btn {
        min-height: 45px;
    }
    .btn-side {
        padding: 0.6rem 0.8rem;
        font-size: 1.3rem;
        min-width: 40px;
    }
    .btn-label {
        font-size: 0.75rem;
    }
     /* Fim Placar Responsivo Mobile */

     /* Guia Responsivo Mobile */
     .brand-spoiler-title {
         font-size: 1rem;
         padding: 0.6rem 1rem;
     }
     .brand-spoiler-title::before {
         font-size: 1.2rem;
         right: 1rem;
     }
     .brand-products-grid {
         padding: 1rem;
         gap: 1rem;
     }
     .brand-products-grid .product-card {
         min-width: 280px; /* Ajuste mínimo */
         width: 95%;
     }
     .brand-products-grid .product-parts {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 0.5rem;
     }
     .product-part-item { width: 80px; min-height: 110px;}
     .product-part-item img { max-width: 40px; height: 40px; }
     .product-part-item p { font-size: 0.75rem; min-height: 1.5rem; }
     /* Fim Guia Responsivo Mobile */

     .chart-container { max-width: 200px; }
     .bay-info-container { margin-top: 0.5rem; }

     /* Trades: Grid e Spoiler */
     #trades-tab .parts-grid { padding: 1rem; gap: 0.5rem; }
     #trades-tab .part-type-spoiler summary { font-size: 1rem; }
     #trades-tab .part-type-spoiler summary::before { font-size: 1.1rem; }
     /* Trades: Display List */
     .trade-list-display h4 { font-size: 1rem; }
     .trade-list-grid { grid-template-columns: repeat(auto-fill, minmax(65px, 1fr)); } /* Mais cards por linha */
     .trade-list-card { min-height: 90px; }
     .trade-list-card img { max-width: 35px; height: 35px;}
     .trade-list-card p { font-size: 0.65rem; min-height: 1.2rem;}
     .trade-list-display li, .trade-list-display h5 { font-size: 0.85rem;}
}

/* --- Estilos para Spoilers no Guia --- */
.brand-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    background-color: var(--primary-bg); /* Fundo ligeiramente diferente */
    overflow: hidden;
}

.brand-spoiler-title {
    background-color: var(--card-bg);
    padding: 0.8rem 1.2rem;
    font-weight: bold;
    font-size: 1.2rem;
    cursor: pointer;
    list-style: none; /* Remove marcador padrão */
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none; /* Evita seleção de texto no título */
    color: var(--text-color); /* Garante cor do texto */
}

/* Remove marcador padrão em diferentes navegadores */
.brand-spoiler-title::-webkit-details-marker {
    display: none;
}
.brand-spoiler-title::marker { /* Para Firefox */
    display: none;
}
summary { /* Fallback genérico */
    list-style: none;
    display: block; /* Garante que funcione como bloco */
}

/* Indicador +/- */
.brand-spoiler-title::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.5rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text); /* Cor do indicador */
}

.brand-spoiler[open] > .brand-spoiler-title::before {
    content: '−'; /* Usando caractere de menos */
    color: var(--text-color); /* Cor quando aberto */
}

/* Container dos cards de produto dentro do spoiler */
.brand-products-grid {
    padding: 1.5rem;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center; /* Centraliza os cards */
}

/* Ajustes nos product cards DENTRO do grid do spoiler */
.brand-products-grid .product-card {
   width: calc(50% - 0.75rem); /* Tenta manter 2 colunas */
   min-width: 300px; /* Largura mínima */
   max-width: 45%; /* Evita que fiquem muito largos */
   flex-grow: 1;
   /* Herda outros estilos de .product-card */
}

/* --- Fim dos Estilos para Spoilers --- */


/* --- [NOVO] Estilos Globais para Botões --- */

/* Estilo Base para a maioria dos botões */
button {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 0.6rem 1.2rem; /* Padding padrão */
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    line-height: 1.2;
    vertical-align: middle;
    user-select: none; /* Evita seleção de texto no botão */
}

button:hover {
    background-color: #404040; /* Escurece no hover */
    border-color: var(--text-color); /* Destaca borda */
}

button:active {
    transform: scale(0.97); /* Efeito de pressionar */
    background-color: #505050; /* Fundo ligeiramente diferente no active */
}

button:disabled { /* Estilo para botões desabilitados */
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--muted-text);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Botões de Ícone Pequenos (Ex: +/- no Deck Manager) */
.deck-buttons-group button {
    width: 40px; /* Tamanho fixo */
    height: 40px;
    font-size: 1.5rem;
    line-height: 1; /* Centraliza o ícone */
    padding: 0; /* Remove padding padrão */
}

/* Botões dentro de Modais */
.modal-buttons {
    display: flex;
    justify-content: flex-end; /* Alinha à direita */
    gap: 0.75rem; /* Espaço entre botões */
    margin-top: 1rem; /* Espaço acima dos botões */
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}
.modal-buttons button {
     padding: 0.5rem 1rem; /* Padding ligeiramente menor */
     font-size: 0.9rem;
}

/* Estilo de Ação Primária (OK, Confirmar, Salvar) */
#input-modal-ok,
#variant-modal-done,
#copy-trades-button, /* Botão de copiar trades (Texto) */
#export-button, /* Botão de exportar dados */
#import-button, /* Botão de importar dados */
#export-trades-button, /* Botão de exportar imagem */
.primary-action-button /* Classe genérica opcional */
{
    background-color: #007bff; /* Azul como exemplo */
    border-color: #0056b3;
    color: white;
}
#input-modal-ok:hover,
#variant-modal-done:hover,
#copy-trades-button:hover,
#export-button:hover,
#import-button:hover,
#export-trades-button:hover,
.primary-action-button:hover {
    background-color: #0056b3;
    border-color: #004085;
}
#input-modal-ok:active,
#variant-modal-done:active,
#copy-trades-button:active,
#export-button:active,
#import-button:active,
#export-trades-button:active,
.primary-action-button:active {
    background-color: #004085;
}


/* Estilo de Perigo (Excluir, Resetar) */
.danger-button,
#reset-score-button, /* Aplicando também ao botão de resetar placar */
#delete-deck-button /* Aplicando ao botão de deletar deck */
{
    background-color: #d9534f;
    border-color: #d43f3a;
    color: white; /* Garante texto branco */
}
.danger-button:hover,
#reset-score-button:hover,
#delete-deck-button:hover {
    background-color: #c9302c;
    border-color: #ac2925;
}
.danger-button:active,
#reset-score-button:active,
#delete-deck-button:active {
    background-color: #ac2925;
}


/* Overrides para Botões com Estilo Específico */

/* Botões de Idioma (Manter estilo circular) */
.lang-button {
    padding: 5px; /* Manter padding específico */
    border-radius: 50%; /* Manter circular */
    width: 50px;
    height: 50px;
    background-color: transparent; /* Sobrescreve fundo base */
    border: 2px solid var(--border-color); /* Manter borda específica */
    /* Outros estilos únicos mantidos */
}
.lang-button:hover {
    border-color: var(--text-color); /* Manter hover específico */
    background-color: transparent; /* Garantir fundo transparente */
    transform: none; /* Remover scale se aplicado */
}
.lang-button.active {
    border-color: #00ffc3;
    box-shadow: var(--owned-glow);
    background-color: transparent;
    transform: none;
}
.lang-button:active {
     transform: scale(0.95); /* Adicionar leve scale no active */
}

/* Tab Links (Não são <button>, manter estilo próprio) */
.tab-link {
    /* Estilos existentes são mantidos */
}

/* Botões Divididos do Placar (Manter estilo próprio) */
.split-score-btn {
    /* Container não é um botão, manter estilos */
}
.btn-side {
     /* Estilos existentes são mantidos, cursor já definido */
}
.btn-side:active {
     transform: scale(0.95); /* Efeito de clique */
}


/* Ajustes para outros elementos interativos */
select {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 8px 10px; /* Ajuste padding */
    font-size: 0.9rem; /* Consistência */
    cursor: pointer;
    transition: border-color 0.2s;
    appearance: none; /* Remove aparência padrão */
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23aaaaaa'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z' clip-rule='evenodd' /%3E%3C/svg%3E"); /* Seta customizada (SVG cinza) */
    background-repeat: no-repeat;
    background-position: right 0.7rem center;
    background-size: 1.2em;
    padding-right: 2.5rem; /* Espaço para a seta */
}
select:hover {
    border-color: var(--text-color);
}

input[type="checkbox"] {
    cursor: pointer;
    width: 1.3em; /* Tamanho um pouco maior */
    height: 1.3em;
    accent-color: #00ffc3; /* Cor do check */
    vertical-align: middle;
    margin-left: 5px; /* Espaço à esquerda */
    position: relative; /* Para possível customização futura */
}
.filter-switch label { /* Garante que o label também seja clicável */
    cursor: pointer;
    user-select: none;
}

/* --- [FIM] Estilos Globais para Botões --- */

/* --- [NOVO] Estilos Aba Trades --- */

#trades-tab .trades-instructions {
    color: var(--muted-text);
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
}

#trades-tab .trades-controls {
    display: flex;
    justify-content: center;
    gap: 1rem; /* Adicionado gap */
    margin-bottom: 2rem;
    flex-wrap: wrap; /* Adicionado wrap */
}

#trades-tab .part-type-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1rem;
    background-color: var(--primary-bg);
    overflow: hidden;
}

#trades-tab .part-type-spoiler summary {
    background-color: var(--card-bg);
    padding: 0.7rem 1.2rem;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    list-style: none;
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none;
    color: var(--text-color);
}
#trades-tab .part-type-spoiler summary::-webkit-details-marker { display: none; }
#trades-tab .part-type-spoiler summary::marker { display: none; }
#trades-tab summary { list-style: none; display: block; }

#trades-tab .part-type-spoiler summary::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.3rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text);
}
#trades-tab .part-type-spoiler[open] > summary::before { content: '−'; color: var(--text-color); }

#trades-tab .parts-grid {
    padding: 1.5rem;
    /* Herda estilos de .parts-grid (display: grid, gap, etc.) */
}

/* Estilos específicos para cards na aba Trades */
#trades-tab .part-card {
    border: 2px solid var(--card-bg); /* Borda padrão sutil */
    transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s; /* Adiciona transição de borda */
}

#trades-tab .part-card:hover {
    transform: scale(1.05);
    /* Mantém sombra padrão do hover, se houver */
}

#trades-tab .part-card.wanting {
    border-color: #3498db; /* Azul para 'wanting' */
    box-shadow: 0 0 8px rgba(52, 152, 219, 0.7);
}

#trades-tab .part-card.trading {
    border-color: #e74c3c; /* Vermelho para 'trading' */
    box-shadow: 0 0 8px rgba(231, 76, 60, 0.7);
}

/* Remove ícone de info e tier da aba de trocas */
#trades-tab .part-card .part-info-icon,
#trades-tab .part-card .part-tier {
    display: none;
}

/* --- [FIM] Estilos Aba Trades --- */

/* --- [NOVO] Estilos para Display de Listas Trades --- */

.trade-display-container {
    display: flex;
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
    justify-content: space-around; /* Espaça as duas listas */
    gap: 1.5rem;
    margin-bottom: 2rem;
    background-color: var(--primary-bg); /* Fundo similar aos spoilers */
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.trade-list-display {
    flex: 1; /* Tenta dividir o espaço igualmente */
    min-width: 250px; /* Largura mínima para cada lista */
    background-color: var(--secondary-bg); /* Fundo interno */
    padding: 1rem;
    border-radius: 5px;
    display: flex; /* Adicionado para controle interno */
    flex-direction: column; /* Empilha título e grid */
}

.trade-list-display h4 {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    text-align: center;
    font-size: 1.1rem;
    /* Cores adicionadas abaixo */
}

/* [NOVO] Cores para os Títulos */
#trades-want-display h4 {
    color: #3498db; /* Azul */
}
#trades-have-display h4 {
    color: #e74c3c; /* Vermelho */
}

/* [MODIFICADO] Grid para os cards dentro da lista */
.trade-list-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Grid responsivo para cards menores */
    gap: 0.5rem; /* Espaço menor entre cards */
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 250px; /* Aumenta um pouco a altura máxima */
    overflow-y: auto;
    padding-right: 8px; /* Espaço para scrollbar */
    flex-grow: 1; /* Ocupa espaço restante */
}

 /* Estilo scrollbar (opcional, para Webkit/Blink) */
.trade-list-grid::-webkit-scrollbar {
  width: 8px;
}
.trade-list-grid::-webkit-scrollbar-track {
  background: var(--primary-bg);
  border-radius: 4px;
}
.trade-list-grid::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
  border: 2px solid var(--primary-bg);
}

/* [REMOVIDO] .trade-list-display h5 e li (agora usamos cards) */

/* [NOVO] Estilo para os cards dentro da lista */
.trade-list-card {
    background-color: var(--card-bg);
    border-radius: 5px;
    padding: 0.3rem;
    text-align: center;
    border: 2px solid transparent; /* Borda base */
    min-height: 100px; /* Altura mínima menor */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    cursor: default; /* Remove cursor pointer daqui */
}
.trade-list-card img {
    width: 100%;
    max-width: 50px; /* Imagem menor */
    height: 50px;
    object-fit: contain;
    margin-bottom: 0.2rem;
}
.trade-list-card p {
    font-size: 0.75rem; /* Fonte menor */
    font-weight: bold;
    min-height: 1.6rem; /* Altura mínima menor */
    display: flex;
    align-items: center;
    justify-content: center;
    word-break: break-word;
    padding: 0 1px;
    margin-top: auto;
    color: var(--text-color);
}
/* Aplica cores de borda também aos cards na lista */
.trade-list-card.wanting {
    border-color: #3498db;
}
.trade-list-card.trading {
    border-color: #e74c3c;
}
 /* Esconde tier/info/tipo nos cards da lista */
.trade-list-card .part-tier,
.trade-list-card .part-info-icon,
.trade-list-card .part-type-symbol {
    display: none;
}


/* Mensagem de lista vazia */
.trade-list-display .empty-list-message {
    color: var(--muted-text);
    font-style: italic;
    text-align: center;
    margin-top: 1rem;
    flex-grow: 1; /* Ocupa espaço se o grid estiver vazio */
    display: flex; /* Centraliza verticalmente */
    align-items: center;
    justify-content: center;
}

/* Ajustes responsivos para o display */
@media (max-width: 600px) {
    .trade-display-container {
        flex-direction: column; /* Empilha as listas */
    }
    .trade-list-display {
        min-width: 100%; /* Ocupa largura total */
    }
    .trade-list-grid {
         grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Cards ainda menores */
    }
    .trade-list-card img { max-width: 40px; height: 40px; }
    .trade-list-card p { font-size: 0.7rem; min-height: 1.4rem; }
}

/* --- [FIM] Estilos para Display de Listas Trades --- */

/* --- [NOVO] Estilos para Captura de Imagem Trades --- */
    
/* Esta classe será aplicada temporariamente ao clone durante a captura */
.trade-capture-clone {
    position: absolute;
    left: -9999px; /* Posiciona fora da tela */
    top: 0;
    width: 600px; /* Largura da imagem (pode ajustar para 900px, etc.) */
    background-color: var(--secondary-bg); /* Fundo da div container (combinando com o tema) */
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* [MODIFICADO] Espaço reduzido */
}

/* [MODIFICADO] Estilo para o cabeçalho da imagem (Vertical) */
.trade-capture-header {
    display: flex;
    flex-direction: column;   /* MUDA PARA COLUNA (Logo em cima, URL embaixo) */
    align-items: center;     /* Centraliza horizontalmente */
    gap: 5px;                /* Espaço pequeno entre logo e URL */
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.trade-capture-logo {
    width: 167px;  /* Seu tamanho correto */
    height: 40px; /* Seu tamanho correto */
    object-fit: contain;
    /* flex-shrink: 0; (Não é mais necessário no layout em coluna) */
}
.trade-capture-url {
    font-size: 0.8rem; /* Tamanho pequeno para a URL */
    color: var(--muted-text) !important;
    font-weight: bold;
    margin: 0; /* Remove margens padrão */
}
/* [FIM MODIFICAÇÃO Cabeçalho] */


.trade-capture-clone .trade-list-display {
    min-width: 100%; 
    max-height: none;
    background-color: var(--secondary-bg);
}

/* [NOVO] Reduz o espaçamento interno do título no clone */
.trade-capture-clone .trade-list-display h4 {
    margin-bottom: 0.5rem; /* REDUZ A MARGEM INTERNA */
}

.trade-capture-clone .trade-list-grid {
    max-height: none;
    overflow-y: visible;
}

.trade-capture-clone #trades-want-display h4 {
    color: #3498db !important;
}
.trade-capture-clone #trades-have-display h4 {
    color: #e74c3c !important;
}
.trade-capture-clone,
.trade-capture-clone h4,
.trade-capture-clone p,
.trade-capture-clone .empty-list-message {
    color: var(--text-color) !important;
}


/* --- [FIM] Estilos para Captura de Imagem Trades --- */


/* --- Media Queries (Incluindo ajustes para Guia/Spoilers E Placar) --- */

@media (max-width: 900px) {
    /* Guia */
    .brand-products-grid { /* Ajusta o grid dentro do spoiler */
         flex-direction: column;
         align-items: center;
     }
     .brand-products-grid .product-card { /* Cards dentro do grid */
         width: 95%; /* Ocupa mais largura */
         max-width: 500px;
         flex-direction: column; /* Garante empilhamento interno se já não estiver */
     }
     .brand-products-grid .product-card-header { /* Adapta o header do card */
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        width: 100%;
        min-width: unset;
     }
     .brand-products-grid .product-parts { /* Adapta grid de peças */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: 0.8rem;
        padding: 1rem;
        width: 100%;
        justify-items: center;
     }
}

@media (max-width: 768px) {
    main { padding: 1rem; }
    header { flex-direction: column; gap: 0.8rem; padding: 0.8rem; }
    nav { width: 100%; justify-content: center; gap: 5px; }
    .tab-link { padding: 8px 10px; font-size: 0.85rem; flex-grow: 1; text-align: center; }
    .tab-header { flex-direction: column; align-items: center; gap: 0.8rem; }

    .deck-management { flex-direction: column; align-items: stretch; }
    .deck-selector-group, .deck-name-group, .deck-buttons-group { justify-content: center; width: 100%; }
    #deck-name-input { min-width: 0; flex-grow: 1; }

    /* [REMOVIDO] Deck slots empilhados em tablets */
    /* .deck-area { flex-direction: column; ... } */
    /* .deck-slot { width: 90%; ... } */

    .modal-content { width: 95%; margin: 5% auto; max-height: 90vh; padding: 15px; }
    #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 0.6rem; }
    .variant-card img, .part-card img { max-width: 45px; height: 45px; }
    .variant-card p, .part-card p { font-size: 0.75rem; min-height: 1.6rem; }
    .part-card { min-height: 120px; }

    .part-type-symbol, .part-type-icon-placeholder { width: 18px; height: 18px; left: 20px; top: 28px;}
    .part-info-icon { width: 18px; height: 18px; font-size: 0.8rem; left: 3px; bottom: 3px; }
    .part-tier { font-size: 0.7rem; padding: 1px 3px; top: 3px; right: 3px; }

    /* Placar Responsivo Tablet */
    .score-container.vertical-score {
        gap: 1rem;
    }
    .score-container.vertical-score .player-section {
        min-width: 280px;
        max-width: 400px;
    }
    .score-container.vertical-score .score-display {
        font-size: 7rem;
    }
    .score-container.vertical-score .versus-divider {
        transform: rotate(90deg);
        margin: 0.5rem 0;
    }

    .score-container.horizontal-score .player-section {
        flex-direction: column;
        width: 95%;
        gap: 0.5rem;
    }
    .score-container.horizontal-score .score-display {
        font-size: 6rem;
        margin: 0.5rem 0;
    }
    .score-container.horizontal-score .score-buttons {
        grid-template-columns: 1fr;
        width: 90%;
        max-width: 300px;
    }
    .btn-label {
        font-size: 0.8rem;
    }
    /* Fim Placar Responsivo Tablet */


    /* Guia: Partes dentro do card */
    .product-part-item { width: 90px; min-height: 120px;}
    .product-part-item img { max-width: 50px; height: 50px; }
    .product-part-item p { font-size: 0.8rem; min-height: 1.8rem; }

    .chart-container { max-width: 220px; }
    .bay-info-container { margin-top: 0.5rem;}
    .bay-height-display { font-size: 0.8rem; }

    /* Trades: Spoiler Title */
    #trades-tab .part-type-spoiler summary { font-size: 1rem; }
    #trades-tab .part-type-spoiler summary::before { font-size: 1.2rem; }

    /* Welcome Tab */
    .welcome-container { font-size: 1rem; }
    .welcome-container h3 { font-size: 1.3rem; }
}

@media (max-width: 480px) {
     main { padding: 0.5rem; }
     .tab-link { padding: 6px 8px; font-size: 0.75rem; gap: 3px; }
     .tab-content { padding: 1rem 0.5rem; }
     /* [REMOVIDO] Deck slots */
     /* .deck-slot { width: 95%; max-width: none; } */
     .part-placeholder { width: 50px; height: 50px; }
     .part-placeholder span { font-size: 0.65rem; }
     .part-name-display { font-size: 0.7rem; }

     #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 0.5rem; }
     .variant-card img, .part-card img { max-width: 35px; height: 35px; }
     .variant-card p, .part-card p { font-size: 0.7rem; min-height: 1.4rem; }
     .part-card { min-height: 110px; padding: 0.4rem; }

     .part-type-symbol, .part-type-icon-placeholder { width: 16px; height: 16px; left: 18px; top: 25px;}
     .part-info-icon { width: 16px; height: 16px; font-size: 0.7rem; }
     .part-tier { font-size: 0.65rem; }

     /* Placar Responsivo Mobile */
     .score-controls-top {
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    .score-controls-top button {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        flex-grow: 1;
    }
    .score-container.vertical-score .player-section {
        min-width: 95%;
    }
    .score-container.vertical-score .score-display {
        font-size: 6rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-display {
        font-size: 5rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-buttons {
        width: 100%; /* Botões ocupam largura total */
        grid-template-columns: 1fr; /* Garante uma coluna */
    }
    .split-score-btn {
        min-height: 45px;
    }
    .btn-side {
        padding: 0.6rem 0.8rem;
        font-size: 1.3rem;
        min-width: 40px;
    }
    .btn-label {
        font-size: 0.75rem;
    }
     /* Fim Placar Responsivo Mobile */

     /* Guia Responsivo Mobile */
     .brand-spoiler-title {
         font-size: 1rem;
         padding: 0.6rem 1rem;
     }
     .brand-spoiler-title::before {
         font-size: 1.2rem;
         right: 1rem;
     }
     .brand-products-grid {
         padding: 1rem;
         gap: 1rem;
     }
     .brand-products-grid .product-card {
         min-width: 280px; /* Ajuste mínimo */
         width: 95%;
     }
     .brand-products-grid .product-parts {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 0.5rem;
     }
     .product-part-item { width: 80px; min-height: 110px;}
     .product-part-item img { max-width: 40px; height: 40px; }
     .product-part-item p { font-size: 0.75rem; min-height: 1.5rem; }
     /* Fim Guia Responsivo Mobile */

     .chart-container { max-width: 200px; }
     .bay-info-container { margin-top: 0.5rem; }

     /* Trades: Grid e Spoiler */
     #trades-tab .parts-grid { padding: 1rem; gap: 0.5rem; }
     #trades-tab .part-type-spoiler summary { font-size: 1rem; }
     #trades-tab .part-type-spoiler summary::before { font-size: 1.1rem; }
     /* Trades: Display List */
     .trade-list-display h4 { font-size: 1rem; }
     .trade-list-grid { grid-template-columns: repeat(auto-fill, minmax(65px, 1fr)); } /* Mais cards por linha */
     .trade-list-card { min-height: 90px; }
     .trade-list-card img { max-width: 35px; height: 35px;}
     .trade-list-card p { font-size: 0.65rem; min-height: 1.2rem;}
     .trade-list-display li, .trade-list-display h5 { font-size: 0.85rem;}

     /* Welcome Tab */
     .welcome-container { font-size: 0.9rem; }
     .welcome-container h3 { font-size: 1.2rem; }
}

/* --- Estilos para Spoilers no Guia --- */
.brand-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    background-color: var(--primary-bg); /* Fundo ligeiramente diferente */
    overflow: hidden;
}

.brand-spoiler-title {
    background-color: var(--card-bg);
    padding: 0.8rem 1.2rem;
    font-weight: bold;
    font-size: 1.2rem;
    cursor: pointer;
    list-style: none; /* Remove marcador padrão */
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none; /* Evita seleção de texto no título */
    color: var(--text-color); /* Garante cor do texto */
}

/* Remove marcador padrão em diferentes navegadores */
.brand-spoiler-title::-webkit-details-marker {
    display: none;
}
.brand-spoiler-title::marker { /* Para Firefox */
    display: none;
}
summary { /* Fallback genérico */
    list-style: none;
    display: block; /* Garante que funcione como bloco */
}

/* Indicador +/- */
.brand-spoiler-title::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.5rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text); /* Cor do indicador */
}

.brand-spoiler[open] > .brand-spoiler-title::before {
    content: '−'; /* Usando caractere de menos */
    color: var(--text-color); /* Cor quando aberto */
}

/* Container dos cards de produto dentro do spoiler */
.brand-products-grid {
    padding: 1.5rem;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center; /* Centraliza os cards */
}

/* Ajustes nos product cards DENTRO do grid do spoiler */
.brand-products-grid .product-card {
   width: calc(50% - 0.75rem); /* Tenta manter 2 colunas */
   min-width: 300px; /* Largura mínima */
   max-width: 45%; /* Evita que fiquem muito largos */
   flex-grow: 1;
   /* Herda outros estilos de .product-card */
}

/* --- Fim dos Estilos para Spoilers --- */


/* --- [NOVO] Estilos Globais para Botões --- */

/* Estilo Base para a maioria dos botões */
button {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 0.6rem 1.2rem; /* Padding padrão */
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    line-height: 1.2;
    vertical-align: middle;
    user-select: none; /* Evita seleção de texto no botão */
}

button:hover {
    background-color: #404040; /* Escurece no hover */
    border-color: var(--text-color); /* Destaca borda */
}

button:active {
    transform: scale(0.97); /* Efeito de pressionar */
    background-color: #505050; /* Fundo ligeiramente diferente no active */
}

button:disabled { /* Estilo para botões desabilitados */
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--muted-text);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Botões de Ícone Pequenos (Ex: +/- no Deck Manager) */
.deck-buttons-group button {
    width: 40px; /* Tamanho fixo */
    height: 40px;
    font-size: 1.5rem;
    line-height: 1; /* Centraliza o ícone */
    padding: 0; /* Remove padding padrão */
}

/* Botões dentro de Modais */
.modal-buttons {
    display: flex;
    justify-content: flex-end; /* Alinha à direita */
    gap: 0.75rem; /* Espaço entre botões */
    margin-top: 1rem; /* Espaço acima dos botões */
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}
.modal-buttons button {
     padding: 0.5rem 1rem; /* Padding ligeiramente menor */
     font-size: 0.9rem;
}

/* Estilo de Ação Primária (OK, Confirmar, Salvar) */
#input-modal-ok,
#variant-modal-done,
#copy-trades-button, /* Botão de copiar trades (Texto) */
#export-button, /* Botão de exportar dados */
#import-button, /* Botão de importar dados */
#export-trades-button, /* Botão de exportar imagem */
.primary-action-button /* Classe genérica opcional */
{
    background-color: #007bff; /* Azul como exemplo */
    border-color: #0056b3;
    color: white;
}
#input-modal-ok:hover,
#variant-modal-done:hover,
#copy-trades-button:hover,
#export-button:hover,
#import-button:hover,
#export-trades-button:hover,
.primary-action-button:hover {
    background-color: #0056b3;
    border-color: #004085;
}
#input-modal-ok:active,
#variant-modal-done:active,
#copy-trades-button:active,
#export-button:active,
#import-button:active,
#export-trades-button:active,
.primary-action-button:active {
    background-color: #004085;
}


/* Estilo de Perigo (Excluir, Resetar) */
.danger-button,
#reset-score-button, /* Aplicando também ao botão de resetar placar */
#delete-deck-button /* Aplicando ao botão de deletar deck */
{
    background-color: #d9534f;
    border-color: #d43f3a;
    color: white; /* Garante texto branco */
}
.danger-button:hover,
#reset-score-button:hover,
#delete-deck-button:hover {
    background-color: #c9302c;
    border-color: #ac2925;
}
.danger-button:active,
#reset-score-button:active,
#delete-deck-button:active {
    background-color: #ac2925;
}


/* Overrides para Botões com Estilo Específico */

/* Botões de Idioma (Manter estilo circular) */
.lang-button {
    padding: 5px; /* Manter padding específico */
    border-radius: 50%; /* Manter circular */
    width: 50px;
    height: 50px;
    background-color: transparent; /* Sobrescreve fundo base */
    border: 2px solid var(--border-color); /* Manter borda específica */
    /* Outros estilos únicos mantidos */
}
.lang-button:hover {
    border-color: var(--text-color); /* Manter hover específico */
    background-color: transparent; /* Garantir fundo transparente */
    transform: none; /* Remover scale se aplicado */
}
.lang-button.active {
    border-color: #00ffc3;
    box-shadow: var(--owned-glow);
    background-color: transparent;
    transform: none;
}
.lang-button:active {
     transform: scale(0.95); /* Adicionar leve scale no active */
}

/* Tab Links (Não são <button>, manter estilo próprio) */
.tab-link {
    /* Estilos existentes são mantidos */
}

/* Botões Divididos do Placar (Manter estilo próprio) */
.split-score-btn {
    /* Container não é um botão, manter estilos */
}
.btn-side {
     /* Estilos existentes são mantidos, cursor já definido */
}
.btn-side:active {
     transform: scale(0.95); /* Efeito de clique */
}


/* Ajustes para outros elementos interativos */
select {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 8px 10px; /* Ajuste padding */
    font-size: 0.9rem; /* Consistência */
    cursor: pointer;
    transition: border-color 0.2s;
    appearance: none; /* Remove aparência padrão */
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23aaaaaa'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z' clip-rule='evenodd' /%3E%3C/svg%3E"); /* Seta customizada (SVG cinza) */
    background-repeat: no-repeat;
    background-position: right 0.7rem center;
    background-size: 1.2em;
    padding-right: 2.5rem; /* Espaço para a seta */
}
select:hover {
    border-color: var(--text-color);
}

input[type="checkbox"] {
    cursor: pointer;
    width: 1.3em; /* Tamanho um pouco maior */
    height: 1.3em;
    accent-color: #00ffc3; /* Cor do check */
    vertical-align: middle;
    margin-left: 5px; /* Espaço à esquerda */
    position: relative; /* Para possível customização futura */
}
.filter-switch label { /* Garante que o label também seja clicável */
    cursor: pointer;
    user-select: none;
}

/* --- [FIM] Estilos Globais para Botões --- */

/* --- [NOVO] Estilos Aba Trades --- */

#trades-tab .trades-instructions {
    color: var(--muted-text);
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
}

#trades-tab .trades-controls {
    display: flex;
    justify-content: center;
    gap: 1rem; /* Adicionado gap */
    margin-bottom: 2rem;
    flex-wrap: wrap; /* Adicionado wrap */
}

#trades-tab .part-type-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1rem;
    background-color: var(--primary-bg);
    overflow: hidden;
}

#trades-tab .part-type-spoiler summary {
    background-color: var(--card-bg);
    padding: 0.7rem 1.2rem;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    list-style: none;
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none;
    color: var(--text-color);
}
#trades-tab .part-type-spoiler summary::-webkit-details-marker { display: none; }
#trades-tab .part-type-spoiler summary::marker { display: none; }
/* summary já estilizado globalmente */

#trades-tab .part-type-spoiler summary::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.3rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text);
}
#trades-tab .part-type-spoiler[open] > summary::before { content: '−'; color: var(--text-color); }

#trades-tab .parts-grid {
    padding: 1.5rem;
    /* Herda estilos de .parts-grid (display: grid, gap, etc.) */
}

/* Estilos específicos para cards na aba Trades */
#trades-tab .part-card {
    border: 2px solid var(--card-bg); /* Borda padrão sutil */
    transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s; /* Adiciona transição de borda */
}

#trades-tab .part-card:hover {
    transform: scale(1.05);
    /* Mantém sombra padrão do hover, se houver */
}

#trades-tab .part-card.wanting {
    border-color: #3498db; /* Azul para 'wanting' */
    box-shadow: 0 0 8px rgba(52, 152, 219, 0.7);
}

#trades-tab .part-card.trading {
    border-color: #e74c3c; /* Vermelho para 'trading' */
    box-shadow: 0 0 8px rgba(231, 76, 60, 0.7);
}

/* Remove ícone de info e tier da aba de trocas */
#trades-tab .part-card .part-info-icon,
#trades-tab .part-card .part-tier {
    display: none;
}

/* --- [FIM] Estilos Aba Trades --- */

/* --- [NOVO] Estilos para Display de Listas Trades --- */

.trade-display-container {
    display: flex;
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
    justify-content: space-around; /* Espaça as duas listas */
    gap: 1.5rem;
    margin-bottom: 2rem;
    background-color: var(--primary-bg); /* Fundo similar aos spoilers */
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.trade-list-display {
    flex: 1; /* Tenta dividir o espaço igualmente */
    min-width: 250px; /* Largura mínima para cada lista */
    background-color: var(--secondary-bg); /* Fundo interno */
    padding: 1rem;
    border-radius: 5px;
    display: flex; /* Adicionado para controle interno */
    flex-direction: column; /* Empilha título e grid */
}

.trade-list-display h4 {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    text-align: center;
    font-size: 1.1rem;
    /* Cores adicionadas abaixo */
}

/* [NOVO] Cores para os Títulos */
#trades-want-display h4 {
    color: #3498db; /* Azul */
}
#trades-have-display h4 {
    color: #e74c3c; /* Vermelho */
}

/* [MODIFICADO] Grid para os cards dentro da lista */
.trade-list-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Grid responsivo para cards menores */
    gap: 0.5rem; /* Espaço menor entre cards */
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 250px; /* Aumenta um pouco a altura máxima */
    overflow-y: auto;
    padding-right: 8px; /* Espaço para scrollbar */
    flex-grow: 1; /* Ocupa espaço restante */
}

 /* Estilo scrollbar (opcional, para Webkit/Blink) */
.trade-list-grid::-webkit-scrollbar {
  width: 8px;
}
.trade-list-grid::-webkit-scrollbar-track {
  background: var(--primary-bg);
  border-radius: 4px;
}
.trade-list-grid::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
  border: 2px solid var(--primary-bg);
}

/* [REMOVIDO] .trade-list-display h5 e li (agora usamos cards) */

/* [NOVO] Estilo para os cards dentro da lista */
.trade-list-card {
    background-color: var(--card-bg);
    border-radius: 5px;
    padding: 0.3rem;
    text-align: center;
    border: 2px solid transparent; /* Borda base */
    min-height: 100px; /* Altura mínima menor */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    cursor: default; /* Remove cursor pointer daqui */
}
.trade-list-card img {
    width: 100%;
    max-width: 50px; /* Imagem menor */
    height: 50px;
    object-fit: contain;
    margin-bottom: 0.2rem;
}
.trade-list-card p {
    font-size: 0.75rem; /* Fonte menor */
    font-weight: bold;
    min-height: 1.6rem; /* Altura mínima menor */
    display: flex;
    align-items: center;
    justify-content: center;
    word-break: break-word;
    padding: 0 1px;
    margin-top: auto;
    color: var(--text-color);
}
/* Aplica cores de borda também aos cards na lista */
.trade-list-card.wanting {
    border-color: #3498db;
}
.trade-list-card.trading {
    border-color: #e74c3c;
}
 /* Esconde tier/info/tipo nos cards da lista */
.trade-list-card .part-tier,
.trade-list-card .part-info-icon,
.trade-list-card .part-type-symbol {
    display: none;
}


/* Mensagem de lista vazia */
.trade-list-display .empty-list-message {
    color: var(--muted-text);
    font-style: italic;
    text-align: center;
    margin-top: 1rem;
    flex-grow: 1; /* Ocupa espaço se o grid estiver vazio */
    display: flex; /* Centraliza verticalmente */
    align-items: center;
    justify-content: center;
}

/* Ajustes responsivos para o display */
@media (max-width: 600px) {
    .trade-display-container {
        flex-direction: column; /* Empilha as listas */
    }
    .trade-list-display {
        min-width: 100%; /* Ocupa largura total */
    }
    .trade-list-grid {
         grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Cards ainda menores */
    }
    .trade-list-card img { max-width: 40px; height: 40px; }
    .trade-list-card p { font-size: 0.7rem; min-height: 1.4rem; }
}

/* --- [FIM] Estilos para Display de Listas Trades --- */

/* --- [NOVO] Estilos para Captura de Imagem Trades --- */
    
/* Esta classe será aplicada temporariamente ao clone durante a captura */
.trade-capture-clone {
    position: absolute;
    left: -9999px; /* Posiciona fora da tela */
    top: 0;
    width: 600px; /* Largura da imagem (pode ajustar para 900px, etc.) */
    background-color: var(--secondary-bg); /* Fundo da div container (combinando com o tema) */
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* [MODIFICADO] Espaço reduzido */
}

/* [MODIFICADO] Estilo para o cabeçalho da imagem (Vertical) */
.trade-capture-header {
    display: flex;
    flex-direction: column;   /* MUDA PARA COLUNA (Logo em cima, URL embaixo) */
    align-items: center;     /* Centraliza horizontalmente */
    gap: 5px;                /* Espaço pequeno entre logo e URL */
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.trade-capture-logo {
    width: 167px;  /* Seu tamanho correto */
    height: 40px; /* Seu tamanho correto */
    object-fit: contain;
    /* flex-shrink: 0; (Não é mais necessário no layout em coluna) */
}
.trade-capture-url {
    font-size: 0.8rem; /* Tamanho pequeno para a URL */
    color: var(--muted-text) !important;
    font-weight: bold;
    margin: 0; /* Remove margens padrão */
}
/* [FIM MODIFICAÇÃO Cabeçalho] */


.trade-capture-clone .trade-list-display {
    min-width: 100%; 
    max-height: none;
    background-color: var(--secondary-bg);
}

/* [NOVO] Reduz o espaçamento interno do título no clone */
.trade-capture-clone .trade-list-display h4 {
    margin-bottom: 0.5rem; /* REDUZ A MARGEM INTERNA */
}

.trade-capture-clone .trade-list-grid {
    max-height: none;
    overflow-y: visible;
}

.trade-capture-clone #trades-want-display h4 {
    color: #3498db !important;
}
.trade-capture-clone #trades-have-display h4 {
    color: #e74c3c !important;
}
.trade-capture-clone,
.trade-capture-clone h4,
.trade-capture-clone p,
.trade-capture-clone .empty-list-message {
    color: var(--text-color) !important;
}


/* --- [FIM] Estilos para Captura de Imagem Trades --- */


/* --- Media Queries (Incluindo ajustes para Guia/Spoilers E Placar) --- */

@media (max-width: 900px) {
    /* Guia */
    .brand-products-grid { /* Ajusta o grid dentro do spoiler */
         flex-direction: column;
         align-items: center;
     }
     .brand-products-grid .product-card { /* Cards dentro do grid */
         width: 95%; /* Ocupa mais largura */
         max-width: 500px;
         flex-direction: column; /* Garante empilhamento interno se já não estiver */
     }
     .brand-products-grid .product-card-header { /* Adapta o header do card */
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        width: 100%;
        min-width: unset;
     }
     .brand-products-grid .product-parts { /* Adapta grid de peças */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: 0.8rem;
        padding: 1rem;
        width: 100%;
        justify-items: center;
     }
}

@media (max-width: 768px) {
    main { padding: 1rem; }
    header { flex-direction: column; gap: 0.8rem; padding: 0.8rem; }
    nav { width: 100%; justify-content: center; gap: 5px; }
    .tab-link { padding: 8px 10px; font-size: 0.85rem; flex-grow: 1; text-align: center; }
    .tab-header { flex-direction: column; align-items: center; gap: 0.8rem; }

    .deck-management { flex-direction: column; align-items: stretch; }
    .deck-selector-group, .deck-name-group, .deck-buttons-group { justify-content: center; width: 100%; }
    #deck-name-input { min-width: 0; flex-grow: 1; }

    /* [REMOVIDO] Deck slots empilhados em tablets */
    /* .deck-area { flex-direction: column; ... } */
    /* .deck-slot { width: 90%; ... } */

    .modal-content { width: 95%; margin: 5% auto; max-height: 90vh; padding: 15px; }
    #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 0.6rem; }
    .variant-card img, .part-card img { max-width: 45px; height: 45px; }
    .variant-card p, .part-card p { font-size: 0.75rem; min-height: 1.6rem; }
    .part-card { min-height: 120px; }

    .part-type-symbol, .part-type-icon-placeholder { width: 18px; height: 18px; left: 20px; top: 28px;}
    .part-info-icon { width: 18px; height: 18px; font-size: 0.8rem; left: 3px; bottom: 3px; }
    .part-tier { font-size: 0.7rem; padding: 1px 3px; top: 3px; right: 3px; }

    /* Placar Responsivo Tablet */
    .score-container.vertical-score {
        gap: 1rem;
    }
    .score-container.vertical-score .player-section {
        min-width: 280px;
        max-width: 400px;
    }
    .score-container.vertical-score .score-display {
        font-size: 7rem;
    }
    .score-container.vertical-score .versus-divider {
        transform: rotate(90deg);
        margin: 0.5rem 0;
    }

    .score-container.horizontal-score .player-section {
        flex-direction: column;
        width: 95%;
        gap: 0.5rem;
    }
    .score-container.horizontal-score .score-display {
        font-size: 6rem;
        margin: 0.5rem 0;
    }
    .score-container.horizontal-score .score-buttons {
        grid-template-columns: 1fr;
        width: 90%;
        max-width: 300px;
    }
    .btn-label {
        font-size: 0.8rem;
    }
    /* Fim Placar Responsivo Tablet */


    /* Guia: Partes dentro do card */
    .product-part-item { width: 90px; min-height: 120px;}
    .product-part-item img { max-width: 50px; height: 50px; }
    .product-part-item p { font-size: 0.8rem; min-height: 1.8rem; }

    .chart-container { max-width: 220px; }
    .bay-info-container { margin-top: 0.5rem;}
    .bay-height-display { font-size: 0.8rem; }

    /* Trades: Spoiler Title */
    #trades-tab .part-type-spoiler summary { font-size: 1rem; }
    #trades-tab .part-type-spoiler summary::before { font-size: 1.2rem; }
    
    /* Welcome Tab */
    .welcome-container { font-size: 1rem; }
    .welcome-container h3 { font-size: 1.3rem; }
}

@media (max-width: 480px) {
     main { padding: 0.5rem; }
     .tab-link { padding: 6px 8px; font-size: 0.75rem; gap: 3px; }
     .tab-content { padding: 1rem 0.5rem; }
     /* [REMOVIDO] Deck slots */
     /* .deck-slot { width: 95%; max-width: none; } */
     .part-placeholder { width: 50px; height: 50px; }
     .part-placeholder span { font-size: 0.65rem; }
     .part-name-display { font-size: 0.7rem; }

     #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 0.5rem; }
     .variant-card img, .part-card img { max-width: 35px; height: 35px; }
     .variant-card p, .part-card p { font-size: 0.7rem; min-height: 1.4rem; }
     .part-card { min-height: 110px; padding: 0.4rem; }

     .part-type-symbol, .part-type-icon-placeholder { width: 16px; height: 16px; left: 18px; top: 25px;}
     .part-info-icon { width: 16px; height: 16px; font-size: 0.7rem; }
     .part-tier { font-size: 0.65rem; }

     /* Placar Responsivo Mobile */
     .score-controls-top {
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    .score-controls-top button {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        flex-grow: 1;
    }
    .score-container.vertical-score .player-section {
        min-width: 95%;
    }
    .score-container.vertical-score .score-display {
        font-size: 6rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-display {
        font-size: 5rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-buttons {
        width: 100%; /* Botões ocupam largura total */
        grid-template-columns: 1fr; /* Garante uma coluna */
    }
    .split-score-btn {
        min-height: 45px;
    }
    .btn-side {
        padding: 0.6rem 0.8rem;
        font-size: 1.3rem;
        min-width: 40px;
    }
    .btn-label {
        font-size: 0.75rem;
    }
     /* Fim Placar Responsivo Mobile */

     /* Guia Responsivo Mobile */
     .brand-spoiler-title {
         font-size: 1rem;
         padding: 0.6rem 1rem;
     }
     .brand-spoiler-title::before {
         font-size: 1.2rem;
         right: 1rem;
     }
     .brand-products-grid {
         padding: 1rem;
         gap: 1rem;
     }
     .brand-products-grid .product-card {
         min-width: 280px; /* Ajuste mínimo */
         width: 95%;
     }
     .brand-products-grid .product-parts {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 0.5rem;
     }
     .product-part-item { width: 80px; min-height: 110px;}
     .product-part-item img { max-width: 40px; height: 40px; }
     .product-part-item p { font-size: 0.75rem; min-height: 1.5rem; }
     /* Fim Guia Responsivo Mobile */

     .chart-container { max-width: 200px; }
     .bay-info-container { margin-top: 0.5rem; }

     /* Trades: Grid e Spoiler */
     #trades-tab .parts-grid { padding: 1rem; gap: 0.5rem; }
     #trades-tab .part-type-spoiler summary { font-size: 1rem; }
     #trades-tab .part-type-spoiler summary::before { font-size: 1.1rem; }
     /* Trades: Display List */
     .trade-list-display h4 { font-size: 1rem; }
     .trade-list-grid { grid-template-columns: repeat(auto-fill, minmax(65px, 1fr)); } /* Mais cards por linha */
     .trade-list-card { min-height: 90px; }
     .trade-list-card img { max-width: 35px; height: 35px;}
     .trade-list-card p { font-size: 0.65rem; min-height: 1.2rem;}
     .trade-list-display li, .trade-list-display h5 { font-size: 0.85rem;}
     
     /* Welcome Tab */
     .welcome-container { font-size: 0.9rem; }
     .welcome-container h3 { font-size: 1.2rem; }
     .welcome-container .contact-email a { font-size: 1rem; }
}

/* --- Estilos para Spoilers no Guia --- */
.brand-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    background-color: var(--primary-bg); /* Fundo ligeiramente diferente */
    overflow: hidden;
}

.brand-spoiler-title {
    background-color: var(--card-bg);
    padding: 0.8rem 1.2rem;
    font-weight: bold;
    font-size: 1.2rem;
    cursor: pointer;
    list-style: none; /* Remove marcador padrão */
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none; /* Evita seleção de texto no título */
    color: var(--text-color); /* Garante cor do texto */
}

/* Remove marcador padrão em diferentes navegadores */
.brand-spoiler-title::-webkit-details-marker {
    display: none;
}
.brand-spoiler-title::marker { /* Para Firefox */
    display: none;
}
summary { /* Fallback genérico */
    list-style: none;
    display: block; /* Garante que funcione como bloco */
}

/* Indicador +/- */
.brand-spoiler-title::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.5rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text); /* Cor do indicador */
}

.brand-spoiler[open] > .brand-spoiler-title::before {
    content: '−'; /* Usando caractere de menos */
    color: var(--text-color); /* Cor quando aberto */
}

/* Container dos cards de produto dentro do spoiler */
.brand-products-grid {
    padding: 1.5rem;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center; /* Centraliza os cards */
}

/* Ajustes nos product cards DENTRO do grid do spoiler */
.brand-products-grid .product-card {
   width: calc(50% - 0.75rem); /* Tenta manter 2 colunas */
   min-width: 300px; /* Largura mínima */
   max-width: 45%; /* Evita que fiquem muito largos */
   flex-grow: 1;
   /* Herda outros estilos de .product-card */
}

/* --- Fim dos Estilos para Spoilers --- */


/* --- [NOVO] Estilos Globais para Botões --- */

/* Estilo Base para a maioria dos botões */
button {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 0.6rem 1.2rem; /* Padding padrão */
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    line-height: 1.2;
    vertical-align: middle;
    user-select: none; /* Evita seleção de texto no botão */
}

button:hover {
    background-color: #404040; /* Escurece no hover */
    border-color: var(--text-color); /* Destaca borda */
}

button:active {
    transform: scale(0.97); /* Efeito de pressionar */
    background-color: #505050; /* Fundo ligeiramente diferente no active */
}

button:disabled { /* Estilo para botões desabilitados */
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--muted-text);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Botões de Ícone Pequenos (Ex: +/- no Deck Manager) */
.deck-buttons-group button {
    width: 40px; /* Tamanho fixo */
    height: 40px;
    font-size: 1.5rem;
    line-height: 1; /* Centraliza o ícone */
    padding: 0; /* Remove padding padrão */
}

/* Botões dentro de Modais */
.modal-buttons {
    display: flex;
    justify-content: flex-end; /* Alinha à direita */
    gap: 0.75rem; /* Espaço entre botões */
    margin-top: 1rem; /* Espaço acima dos botões */
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}
.modal-buttons button {
     padding: 0.5rem 1rem; /* Padding ligeiramente menor */
     font-size: 0.9rem;
}

/* Estilo de Ação Primária (OK, Confirmar, Salvar) */
#input-modal-ok,
#variant-modal-done,
#copy-trades-button, /* Botão de copiar trades (Texto) */
#export-button, /* Botão de exportar dados */
#import-button, /* Botão de importar dados */
#export-trades-button, /* Botão de exportar imagem */
.primary-action-button /* Classe genérica opcional */
{
    background-color: #007bff; /* Azul como exemplo */
    border-color: #0056b3;
    color: white;
}
#input-modal-ok:hover,
#variant-modal-done:hover,
#copy-trades-button:hover,
#export-button:hover,
#import-button:hover,
#export-trades-button:hover,
.primary-action-button:hover {
    background-color: #0056b3;
    border-color: #004085;
}
#input-modal-ok:active,
#variant-modal-done:active,
#copy-trades-button:active,
#export-button:active,
#import-button:active,
#export-trades-button:active,
.primary-action-button:active {
    background-color: #004085;
}


/* Estilo de Perigo (Excluir, Resetar) */
.danger-button,
#reset-score-button, /* Aplicando também ao botão de resetar placar */
#delete-deck-button /* Aplicando ao botão de deletar deck */
{
    background-color: #d9534f;
    border-color: #d43f3a;
    color: white; /* Garante texto branco */
}
.danger-button:hover,
#reset-score-button:hover,
#delete-deck-button:hover {
    background-color: #c9302c;
    border-color: #ac2925;
}
.danger-button:active,
#reset-score-button:active,
#delete-deck-button:active {
    background-color: #ac2925;
}


/* Overrides para Botões com Estilo Específico */

/* Botões de Idioma (Manter estilo circular) */
.lang-button {
    padding: 5px; /* Manter padding específico */
    border-radius: 50%; /* Manter circular */
    width: 50px;
    height: 50px;
    background-color: transparent; /* Sobrescreve fundo base */
    border: 2px solid var(--border-color); /* Manter borda específica */
    /* Outros estilos únicos mantidos */
}
.lang-button:hover {
    border-color: var(--text-color); /* Manter hover específico */
    background-color: transparent; /* Garantir fundo transparente */
    transform: none; /* Remover scale se aplicado */
}
.lang-button.active {
    border-color: #00ffc3;
    box-shadow: var(--owned-glow);
    background-color: transparent;
    transform: none;
}
.lang-button:active {
     transform: scale(0.95); /* Adicionar leve scale no active */
}

/* Tab Links (Não são <button>, manter estilo próprio) */
.tab-link {
    /* Estilos existentes são mantidos */
}

/* Botões Divididos do Placar (Manter estilo próprio) */
.split-score-btn {
    /* Container não é um botão, manter estilos */
}
.btn-side {
     /* Estilos existentes são mantidos, cursor já definido */
}
.btn-side:active {
     transform: scale(0.95); /* Efeito de clique */
}


/* Ajustes para outros elementos interativos */
select {
    background-color: var(--card-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 8px 10px; /* Ajuste padding */
    font-size: 0.9rem; /* Consistência */
    cursor: pointer;
    transition: border-color 0.2s;
    appearance: none; /* Remove aparência padrão */
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23aaaaaa'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z' clip-rule='evenodd' /%3E%3C/svg%3E"); /* Seta customizada (SVG cinza) */
    background-repeat: no-repeat;
    background-position: right 0.7rem center;
    background-size: 1.2em;
    padding-right: 2.5rem; /* Espaço para a seta */
}
select:hover {
    border-color: var(--text-color);
}

input[type="checkbox"] {
    cursor: pointer;
    width: 1.3em; /* Tamanho um pouco maior */
    height: 1.3em;
    accent-color: #00ffc3; /* Cor do check */
    vertical-align: middle;
    margin-left: 5px; /* Espaço à esquerda */
    position: relative; /* Para possível customização futura */
}
.filter-switch label { /* Garante que o label também seja clicável */
    cursor: pointer;
    user-select: none;
}

/* --- [FIM] Estilos Globais para Botões --- */

/* --- [NOVO] Estilos Aba Trades --- */

#trades-tab .trades-instructions {
    color: var(--muted-text);
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
}

#trades-tab .trades-controls {
    display: flex;
    justify-content: center;
    gap: 1rem; /* Adicionado gap */
    margin-bottom: 2rem;
    flex-wrap: wrap; /* Adicionado wrap */
}

#trades-tab .part-type-spoiler {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 1rem;
    background-color: var(--primary-bg);
    overflow: hidden;
}

#trades-tab .part-type-spoiler summary {
    background-color: var(--card-bg);
    padding: 0.7rem 1.2rem;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    list-style: none;
    position: relative;
    border-bottom: 1px solid var(--border-color);
    user-select: none;
    color: var(--text-color);
}
#trades-tab .part-type-spoiler summary::-webkit-details-marker { display: none; }
#trades-tab .part-type-spoiler summary::marker { display: none; }
#trades-tab summary { list-style: none; display: block; }

#trades-tab .part-type-spoiler summary::before {
    content: '+';
    position: absolute;
    right: 1.2rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.3rem;
    line-height: 1;
    transition: transform 0.2s ease-in-out;
    color: var(--muted-text);
}
#trades-tab .part-type-spoiler[open] > summary::before { content: '−'; color: var(--text-color); }

#trades-tab .parts-grid {
    padding: 1.5rem;
    /* Herda estilos de .parts-grid (display: grid, gap, etc.) */
}

/* Estilos específicos para cards na aba Trades */
#trades-tab .part-card {
    border: 2px solid var(--card-bg); /* Borda padrão sutil */
    transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s; /* Adiciona transição de borda */
}

#trades-tab .part-card:hover {
    transform: scale(1.05);
    /* Mantém sombra padrão do hover, se houver */
}

#trades-tab .part-card.wanting {
    border-color: #3498db; /* Azul para 'wanting' */
    box-shadow: 0 0 8px rgba(52, 152, 219, 0.7);
}

#trades-tab .part-card.trading {
    border-color: #e74c3c; /* Vermelho para 'trading' */
    box-shadow: 0 0 8px rgba(231, 76, 60, 0.7);
}

/* Remove ícone de info e tier da aba de trocas */
#trades-tab .part-card .part-info-icon,
#trades-tab .part-card .part-tier {
    display: none;
}

/* --- [FIM] Estilos Aba Trades --- */

/* --- [NOVO] Estilos para Display de Listas Trades --- */

.trade-display-container {
    display: flex;
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
    justify-content: space-around; /* Espaça as duas listas */
    gap: 1.5rem;
    margin-bottom: 2rem;
    background-color: var(--primary-bg); /* Fundo similar aos spoilers */
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.trade-list-display {
    flex: 1; /* Tenta dividir o espaço igualmente */
    min-width: 250px; /* Largura mínima para cada lista */
    background-color: var(--secondary-bg); /* Fundo interno */
    padding: 1rem;
    border-radius: 5px;
    display: flex; /* Adicionado para controle interno */
    flex-direction: column; /* Empilha título e grid */
}

.trade-list-display h4 {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    text-align: center;
    font-size: 1.1rem;
    /* Cores adicionadas abaixo */
}

/* [NOVO] Cores para os Títulos */
#trades-want-display h4 {
    color: #3498db; /* Azul */
}
#trades-have-display h4 {
    color: #e74c3c; /* Vermelho */
}

/* [MODIFICADO] Grid para os cards dentro da lista */
.trade-list-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Grid responsivo para cards menores */
    gap: 0.5rem; /* Espaço menor entre cards */
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 250px; /* Aumenta um pouco a altura máxima */
    overflow-y: auto;
    padding-right: 8px; /* Espaço para scrollbar */
    flex-grow: 1; /* Ocupa espaço restante */
}

 /* Estilo scrollbar (opcional, para Webkit/Blink) */
.trade-list-grid::-webkit-scrollbar {
  width: 8px;
}
.trade-list-grid::-webkit-scrollbar-track {
  background: var(--primary-bg);
  border-radius: 4px;
}
.trade-list-grid::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
  border: 2px solid var(--primary-bg);
}

/* [NOVO] Estilo para os cards dentro da lista */
.trade-list-card {
    background-color: var(--card-bg);
    border-radius: 5px;
    padding: 0.3rem;
    text-align: center;
    border: 2px solid transparent; /* Borda base */
    min-height: 100px; /* Altura mínima menor */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    cursor: default; /* Remove cursor pointer daqui */
}
.trade-list-card img {
    width: 100%;
    max-width: 50px; /* Imagem menor */
    height: 50px;
    object-fit: contain;
    margin-bottom: 0.2rem;
}
.trade-list-card p {
    font-size: 0.75rem; /* Fonte menor */
    font-weight: bold;
    min-height: 1.6rem; /* Altura mínima menor */
    display: flex;
    align-items: center;
    justify-content: center;
    word-break: break-word;
    padding: 0 1px;
    margin-top: auto;
    color: var(--text-color);
}
/* Aplica cores de borda também aos cards na lista */
.trade-list-card.wanting {
    border-color: #3498db;
}
.trade-list-card.trading {
    border-color: #e74c3c;
}
 /* Esconde tier/info/tipo nos cards da lista */
.trade-list-card .part-tier,
.trade-list-card .part-info-icon,
.trade-list-card .part-type-symbol {
    display: none;
}


/* Mensagem de lista vazia */
.trade-list-display .empty-list-message {
    color: var(--muted-text);
    font-style: italic;
    text-align: center;
    margin-top: 1rem;
    flex-grow: 1; /* Ocupa espaço se o grid estiver vazio */
    display: flex; /* Centraliza verticalmente */
    align-items: center;
    justify-content: center;
}

/* Ajustes responsivos para o display */
@media (max-width: 600px) {
    .trade-display-container {
        flex-direction: column; /* Empilha as listas */
    }
    .trade-list-display {
        min-width: 100%; /* Ocupa largura total */
    }
    .trade-list-grid {
         grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Cards ainda menores */
    }
    .trade-list-card img { max-width: 40px; height: 40px; }
    .trade-list-card p { font-size: 0.7rem; min-height: 1.4rem; }
}

/* --- [FIM] Estilos para Display de Listas Trades --- */

/* --- [NOVO] Estilos para Captura de Imagem Trades --- */
    
/* Esta classe será aplicada temporariamente ao clone durante a captura */
.trade-capture-clone {
    position: absolute;
    left: -9999px; /* Posiciona fora da tela */
    top: 0;
    width: 600px; /* Largura da imagem (pode ajustar para 900px, etc.) */
    background-color: var(--secondary-bg); /* Fundo da div container (combinando com o tema) */
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* [MODIFICADO] Espaço reduzido */
}

/* [MODIFICADO] Estilo para o cabeçalho da imagem (Vertical) */
.trade-capture-header {
    display: flex;
    flex-direction: column;   /* MUDA PARA COLUNA (Logo em cima, URL embaixo) */
    align-items: center;     /* Centraliza horizontalmente */
    gap: 5px;                /* Espaço pequeno entre logo e URL */
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.trade-capture-logo {
    width: 167px;  /* Seu tamanho correto */
    height: 40px; /* Seu tamanho correto */
    object-fit: contain;
    /* flex-shrink: 0; (Não é mais necessário no layout em coluna) */
}
.trade-capture-url {
    font-size: 0.8rem; /* Tamanho pequeno para a URL */
    color: var(--muted-text) !important;
    font-weight: bold;
    margin: 0; /* Remove margens padrão */
}
/* [FIM MODIFICAÇÃO Cabeçalho] */


.trade-capture-clone .trade-list-display {
    min-width: 100%; 
    max-height: none;
    background-color: var(--secondary-bg);
}

/* [NOVO] Reduz o espaçamento interno do título no clone */
.trade-capture-clone .trade-list-display h4 {
    margin-bottom: 0.5rem; /* REDUZ A MARGEM INTERNA */
}

.trade-capture-clone .trade-list-grid {
    max-height: none;
    overflow-y: visible;
}

.trade-capture-clone #trades-want-display h4 {
    color: #3498db !important;
}
.trade-capture-clone #trades-have-display h4 {
    color: #e74c3c !important;
}
.trade-capture-clone,
.trade-capture-clone h4,
.trade-capture-clone p,
.trade-capture-clone .empty-list-message {
    color: var(--text-color) !important;
}


/* --- [FIM] Estilos para Captura de Imagem Trades --- */


/* --- Media Queries (Incluindo ajustes para Guia/Spoilers E Placar) --- */

@media (max-width: 900px) {
    /* Guia */
    .brand-products-grid { /* Ajusta o grid dentro do spoiler */
         flex-direction: column;
         align-items: center;
     }
     .brand-products-grid .product-card { /* Cards dentro do grid */
         width: 95%; /* Ocupa mais largura */
         max-width: 500px;
         flex-direction: column; /* Garante empilhamento interno se já não estiver */
     }
     .brand-products-grid .product-card-header { /* Adapta o header do card */
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        width: 100%;
        min-width: unset;
     }
     .brand-products-grid .product-parts { /* Adapta grid de peças */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: 0.8rem;
        padding: 1rem;
        width: 100%;
        justify-items: center;
     }
}

@media (max-width: 768px) {
    main { padding: 1rem; }
    header { flex-direction: column; gap: 0.8rem; padding: 0.8rem; }
    nav { width: 100%; justify-content: center; gap: 5px; }
    .tab-link { padding: 8px 10px; font-size: 0.85rem; flex-grow: 1; text-align: center; }
    .tab-header { flex-direction: column; align-items: center; gap: 0.8rem; }

    .deck-management { flex-direction: column; align-items: stretch; }
    .deck-selector-group, .deck-name-group, .deck-buttons-group { justify-content: center; width: 100%; }
    #deck-name-input { min-width: 0; flex-grow: 1; }

    /* [REMOVIDO] Deck slots empilhados em tablets */
    /* .deck-area { ... } */
    /* .deck-slot { ... } */

    .modal-content { width: 95%; margin: 5% auto; max-height: 90vh; padding: 15px; }
    #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 0.6rem; }
    .variant-card img, .part-card img { max-width: 45px; height: 45px; }
    .variant-card p, .part-card p { font-size: 0.75rem; min-height: 1.6rem; }
    .part-card { min-height: 120px; }

    .part-type-symbol, .part-type-icon-placeholder { width: 18px; height: 18px; left: 20px; top: 28px;}
    .part-info-icon { width: 18px; height: 18px; font-size: 0.8rem; left: 3px; bottom: 3px; }
    .part-tier { font-size: 0.7rem; padding: 1px 3px; top: 3px; right: 3px; }

    /* Placar Responsivo Tablet */
    .score-container.vertical-score {
        gap: 1rem;
    }
    .score-container.vertical-score .player-section {
        min-width: 280px;
        max-width: 400px;
    }
    .score-container.vertical-score .score-display {
        font-size: 7rem;
    }
    .score-container.vertical-score .versus-divider {
        transform: rotate(90deg);
        margin: 0.5rem 0;
    }

    .score-container.horizontal-score .player-section {
        flex-direction: column;
        width: 95%;
        gap: 0.5rem;
    }
    .score-container.horizontal-score .score-display {
        font-size: 6rem;
        margin: 0.5rem 0;
    }
    .score-container.horizontal-score .score-buttons {
        grid-template-columns: 1fr;
        width: 90%;
        max-width: 300px;
    }
    .btn-label {
        font-size: 0.8rem;
    }
    /* Fim Placar Responsivo Tablet */


    /* Guia: Partes dentro do card */
    .product-part-item { width: 90px; min-height: 120px;}
    .product-part-item img { max-width: 50px; height: 50px; }
    .product-part-item p { font-size: 0.8rem; min-height: 1.8rem; }

    .chart-container { max-width: 220px; }
    .bay-info-container { margin-top: 0.5rem;}
    .bay-height-display { font-size: 0.8rem; }

    /* Trades: Spoiler Title */
    #trades-tab .part-type-spoiler summary { font-size: 1rem; }
    #trades-tab .part-type-spoiler summary::before { font-size: 1.2rem; }
    
    /* Welcome Tab */
    .welcome-container { font-size: 1rem; }
    .welcome-container h3 { font-size: 1.3rem; }
}

@media (max-width: 480px) {
     main { padding: 0.5rem; }
     .tab-link { padding: 6px 8px; font-size: 0.75rem; gap: 3px; }
     .tab-content { padding: 1rem 0.5rem; }
     /* [REMOVIDO] Deck slots */
     /* .deck-slot { ... } */
     .part-placeholder { width: 50px; height: 50px; }
     .part-placeholder span { font-size: 0.65rem; }
     .part-name-display { font-size: 0.7rem; }

     #variant-modal-grid, .parts-grid { grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 0.5rem; }
     .variant-card img, .part-card img { max-width: 35px; height: 35px; }
     .variant-card p, .part-card p { font-size: 0.7rem; min-height: 1.4rem; }
     .part-card { min-height: 110px; padding: 0.4rem; }

     .part-type-symbol, .part-type-icon-placeholder { width: 16px; height: 16px; left: 18px; top: 25px;}
     .part-info-icon { width: 16px; height: 16px; font-size: 0.7rem; }
     .part-tier { font-size: 0.65rem; }

     /* Placar Responsivo Mobile */
     .score-controls-top {
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    .score-controls-top button {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
        flex-grow: 1;
    }
    .score-container.vertical-score .player-section {
        min-width: 95%;
    }
    .score-container.vertical-score .score-display {
        font-size: 6rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-display {
        font-size: 5rem; /* Reduz mais */
    }
     .score-container.horizontal-score .score-buttons {
        width: 100%; /* Botões ocupam largura total */
        grid-template-columns: 1fr; /* Garante uma coluna */
    }
    .split-score-btn {
        min-height: 45px;
    }
    .btn-side {
        padding: 0.6rem 0.8rem;
        font-size: 1.3rem;
        min-width: 40px;
    }
    .btn-label {
        font-size: 0.75rem;
    }
     /* Fim Placar Responsivo Mobile */

     /* Guia Responsivo Mobile */
     .brand-spoiler-title {
         font-size: 1rem;
         padding: 0.6rem 1rem;
     }
     .brand-spoiler-title::before {
         font-size: 1.2rem;
         right: 1rem;
     }
     .brand-products-grid {
         padding: 1rem;
         gap: 1rem;
     }
     .brand-products-grid .product-card {
         min-width: 280px; /* Ajuste mínimo */
         width: 95%;
     }
     .brand-products-grid .product-parts {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 0.5rem;
     }
     .product-part-item { width: 80px; min-height: 110px;}
     .product-part-item img { max-width: 40px; height: 40px; }
     .product-part-item p { font-size: 0.75rem; min-height: 1.5rem; }
     /* Fim Guia Responsivo Mobile */

     .chart-container { max-width: 200px; }
     .bay-info-container { margin-top: 0.5rem; }

     /* Trades: Grid e Spoiler */
     #trades-tab .parts-grid { padding: 1rem; gap: 0.5rem; }
     #trades-tab .part-type-spoiler summary { font-size: 1rem; }
     #trades-tab .part-type-spoiler summary::before { font-size: 1.1rem; }
     /* Trades: Display List */
     .trade-list-display h4 { font-size: 1rem; }
     .trade-list-grid { grid-template-columns: repeat(auto-fill, minmax(65px, 1fr)); } /* Mais cards por linha */
     .trade-list-card { min-height: 90px; }
     .trade-list-card img { max-width: 35px; height: 35px;}
     .trade-list-card p { font-size: 0.65rem; min-height: 1.2rem;}
     .trade-list-display li, .trade-list-display h5 { font-size: 0.85rem;}
     
     /* Welcome Tab */
     .welcome-container { font-size: 0.9rem; }
     .welcome-container h3 { font-size: 1.2rem; }
     .welcome-container .contact-email a { font-size: 1rem; }
}